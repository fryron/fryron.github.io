(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4272],{54098:function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=h(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=c(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function A(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(O){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function q(e,r){return new Promise((function(n,o){var s=new g(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:A(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new E(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}q.polyfill=!0,e.fetch||(e.fetch=q,e.Headers=f,e.Request=g,e.Response=E),t.Headers=f,t.Request=g,t.Response=E,t.fetch=q,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},72445:function(e){"use strict";e.exports=function(e){var t=e.uri,r=e.name,n=e.type;this.uri=t,this.name=r,this.type=n}},40804:function(e,t,r){"use strict";var n=r(51268);e.exports=function e(t,r,i){var o;void 0===r&&(r=""),void 0===i&&(i=n);var s=new Map;function a(e,t){var r=s.get(t);r?r.push.apply(r,e):s.set(t,e)}if(i(t))o=null,a([r],t);else{var u=r?r+".":"";if("undefined"!==typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return a([""+u+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,r){var n=e(t,""+u+r,i);return n.files.forEach(a),n.clone}));else if(t&&t.constructor===Object)for(var l in o={},t){var c=e(t[l],""+u+l,i);c.files.forEach(a),o[l]=c.clone}else o=t}return{clone:o,files:s}}},51268:function(e,t,r){"use strict";var n=r(72445);e.exports=function(e){return"undefined"!==typeof File&&e instanceof File||"undefined"!==typeof Blob&&e instanceof Blob||e instanceof n}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},34272:function(e,t,r){"use strict";r.d(t,{ZP:function(){return I},Ps:function(){return L}});const n={parse:JSON.parse,stringify:JSON.stringify};var i=r(51268),o=r(40804),s=r(6230);const a=e=>i(e)||null!==e&&"object"===typeof e&&"function"===typeof e.pipe;var u=(e,t,r,i=n)=>{const{clone:u,files:l}=o({query:e,variables:t,operationName:r},"",a);if(0===l.size){if(!Array.isArray(e))return i.stringify(u);if("undefined"!==typeof t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const r=e.reduce(((e,r,n)=>(e.push({query:r,variables:t?t[n]:void 0}),e)),[]);return i.stringify(r)}const c=new("undefined"===typeof FormData?s:FormData);c.append("operations",i.stringify(u));const d={};let f=0;return l.forEach((e=>{d[++f]=e})),c.append("map",i.stringify(d)),f=0,l.forEach(((e,t)=>{c.append(""+ ++f,t)})),c};var l=r(86355),c=r(87392);const d=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function f(e){return p[e.charCodeAt(0)]}const p=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var h=r(37826),y=r(25821),v=r(72380),m=r(97359);const b=Object.freeze({});function g(e,t,r=v.h8){const n=new Map;for(const h of Object.values(m.h))n.set(h,w(t,h));let i,o,s,a=Array.isArray(e),u=[e],l=-1,c=[],d=e;const f=[],p=[];do{l++;const e=l===u.length,m=e&&0!==c.length;if(e){if(o=0===p.length?void 0:f[f.length-1],d=s,s=p.pop(),m)if(a){d=d.slice();let e=0;for(const[t,r]of c){const n=t-e;null===r?(d.splice(n,1),e++):d[n]=r}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(const[e,t]of c)d[e]=t}l=i.index,u=i.keys,c=i.edits,a=i.inArray,i=i.prev}else if(s){if(o=a?l:u[l],d=s[o],null===d||void 0===d)continue;f.push(o)}let w;if(!Array.isArray(d)){var g,A;(0,v.UG)(d)||(0,h.a)(!1,`Invalid AST Node: ${(0,y.X)(d)}.`);const r=e?null===(g=n.get(d.kind))||void 0===g?void 0:g.leave:null===(A=n.get(d.kind))||void 0===A?void 0:A.enter;if(w=null===r||void 0===r?void 0:r.call(t,d,o,s,f,p),w===b)break;if(!1===w){if(!e){f.pop();continue}}else if(void 0!==w&&(c.push([o,w]),!e)){if(!(0,v.UG)(w)){f.pop();continue}d=w}}var E;if(void 0===w&&m&&c.push([o,d]),e)f.pop();else i={inArray:a,index:l,keys:u,edits:c,prev:i},a=Array.isArray(d),u=a?d:null!==(E=r[d.kind])&&void 0!==E?E:[],l=-1,c=[],s&&p.push(s),s=d}while(void 0!==i);return 0!==c.length?c[c.length-1][1]:e}function w(e,t){const r=e[t];return"object"===typeof r?r:"function"===typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function A(e){return g(e,E)}const E={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>x(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=O("(",x(e.variableDefinitions,", "),")"),r=x([e.operation,x([e.name,t]),x(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+O(" = ",r)+O(" ",x(n," "))},SelectionSet:{leave:({selections:e})=>q(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){const o=O("",e,": ")+t;let s=o+O("(",x(r,", "),")");return s.length>80&&(s=o+O("(\n",T(x(r,"\n")),"\n)")),x([s,x(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+O(" ",x(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>x(["...",O("on ",e),x(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${O("(",x(r,", "),")")} on ${t} ${O("",x(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,c.LZ)(e):`"${e.replace(d,f)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+x(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+x(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+O("(",x(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>O("",e,"\n")+x(["schema",x(t," "),q(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>O("",e,"\n")+x(["scalar",t,x(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>O("",e,"\n")+x(["type",t,O("implements ",x(r," & ")),x(n," "),q(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>O("",e,"\n")+t+(D(r)?O("(\n",T(x(r,"\n")),"\n)"):O("(",x(r,", "),")"))+": "+n+O(" ",x(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>O("",e,"\n")+x([t+": "+r,O("= ",n),x(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>O("",e,"\n")+x(["interface",t,O("implements ",x(r," & ")),x(n," "),q(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>O("",e,"\n")+x(["union",t,x(r," "),O("= ",x(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>O("",e,"\n")+x(["enum",t,x(r," "),q(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>O("",e,"\n")+x([t,x(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>O("",e,"\n")+x(["input",t,x(r," "),q(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>O("",e,"\n")+"directive @"+t+(D(r)?O("(\n",T(x(r,"\n")),"\n)"):O("(",x(r,", "),")"))+(n?" repeatable":"")+" on "+x(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>x(["extend schema",x(e," "),q(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>x(["extend scalar",e,x(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>x(["extend type",e,O("implements ",x(t," & ")),x(r," "),q(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>x(["extend interface",e,O("implements ",x(t," & ")),x(r," "),q(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>x(["extend union",e,x(t," "),O("= ",x(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>x(["extend enum",e,x(t," "),q(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>x(["extend input",e,x(t," "),q(r)]," ")}};function x(e,t=""){var r;return null!==(r=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==r?r:""}function q(e){return O("{\n",T(x(e,"\n")),"\n}")}function O(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function T(e){return O("  ",e.replace(/\n/g,"\n  "))}function D(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}const j=e=>{let t;const r=e.definitions.filter((e=>"OperationDefinition"===e.kind));return 1===r.length&&(t=r[0]?.name?.value),t},S=e=>{if("string"===typeof e){let t;try{const r=(0,l.Qc)(e);t=j(r)}catch(r){}return{query:e,operationName:t}}const t=j(e);return{query:A(e),operationName:t}};class C extends Error{constructor(e,t){super(`${C.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,C.prototype),this.response=e,this.request=t,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,C)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${e.status})`}}var _=r(54098),B=r.t(_,2);const P=e=>{let t={};return e&&("undefined"!==typeof Headers&&e instanceof Headers||B&&_.Headers&&e instanceof _.Headers?t=(e=>{const t={};return e.forEach(((e,r)=>{t[r]=e})),t})(e):Array.isArray(e)?e.forEach((([e,r])=>{e&&void 0!==r&&(t[e]=r)})):t=e),t},F=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),U=e=>async t=>{const{url:r,query:i,variables:o,operationName:s,fetch:a,fetchOptions:l,middleware:c}=t,d={...t.headers};let f,p="";"POST"===e?(f=u(i,o,s,l.jsonSerializer),"string"===typeof f&&(d["Content-Type"]="application/json")):p=(e=>{if(!Array.isArray(e.query)){const t=e,r=[`query=${encodeURIComponent(F(t.query))}`];return e.variables&&r.push(`variables=${encodeURIComponent(t.jsonSerializer.stringify(t.variables))}`),t.operationName&&r.push(`operationName=${encodeURIComponent(t.operationName)}`),r.join("&")}if("undefined"!==typeof e.variables&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,r=e.query.reduce(((e,r,n)=>(e.push({query:F(r),variables:t.variables?t.jsonSerializer.stringify(t.variables[n]):void 0}),e)),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(r))}`})({query:i,variables:o,operationName:s,jsonSerializer:l.jsonSerializer??n});const h={method:e,headers:d,body:f,...l};let y=r,v=h;if(c){const e=await Promise.resolve(c({...h,url:r,operationName:s,variables:o})),{url:t,...n}=e;y=t,v=n}return p&&(y=`${y}?${p}`),await a(y,v)};class N{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{const[t,r,n]=e,i=((e,t,r)=>e.query?e:{query:e,variables:t,requestHeaders:r,signal:void 0})(t,r,n),{headers:o,fetch:s=_,method:a="POST",requestMiddleware:u,responseMiddleware:l,...c}=this.requestConfig,{url:d}=this;void 0!==i.signal&&(c.signal=i.signal);const{operationName:f}=S(i.query);return R({url:d,query:i.query,variables:i.variables,headers:{...P(H(o)),...P(i.requestHeaders)},operationName:f,fetch:s,method:a,fetchOptions:c,middleware:u}).then((e=>(l&&l(e),e))).catch((e=>{throw l&&l(e),e}))}}async request(e,...t){const[r,n]=t,i=((e,t,r)=>e.document?e:{document:e,variables:t,requestHeaders:r,signal:void 0})(e,r,n),{headers:o,fetch:s=_,method:a="POST",requestMiddleware:u,responseMiddleware:l,...c}=this.requestConfig,{url:d}=this;void 0!==i.signal&&(c.signal=i.signal);const{query:f,operationName:p}=S(i.document);return R({url:d,query:f,variables:i.variables,headers:{...P(H(o)),...P(i.requestHeaders)},operationName:p,fetch:s,method:a,fetchOptions:c,middleware:u}).then((e=>(l&&l(e),e.data))).catch((e=>{throw l&&l(e),e}))}batchRequests(e,t){const r=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(e,t),{headers:n,...i}=this.requestConfig;void 0!==r.signal&&(i.signal=r.signal);const o=r.documents.map((({document:e})=>S(e).query)),s=r.documents.map((({variables:e})=>e));return R({url:this.url,query:o,variables:s,headers:{...P(H(n)),...P(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??_,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware}).then((e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data))).catch((e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e}))}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:r}=this.requestConfig;return r?r[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const R=async e=>{const{query:t,variables:r,fetchOptions:i}=e,o=U((e.method??"post").toUpperCase());const s=Array.isArray(e.query),a=await o(e),u=await M(a,i.jsonSerializer??n),l=Array.isArray(u)?!u.some((({data:e})=>!e)):Boolean(u.data),c=Array.isArray(u)||!u.errors||Array.isArray(u.errors)&&!u.errors.length||"all"===i.errorPolicy||"ignore"===i.errorPolicy;if(a.ok&&c&&l){const{errors:e,...t}=(Array.isArray(u),u),r="ignore"===i.errorPolicy?t:u;return{...s?{data:r}:r,headers:a.headers,status:a.status}}throw new C({..."string"===typeof u?{error:u}:u,status:a.status,headers:a.headers},{query:t,variables:r})};var I=async function(e,t,...r){const n=((e,t,...r)=>{const[n,i]=r;return e.document?e:{url:e,document:t,variables:n,requestHeaders:i,signal:void 0}})(e,t,...r);return new N(n.url).request({...n})};const M=async(e,t)=>{let r;return e.headers.forEach(((e,t)=>{"content-type"===t.toLowerCase()&&(r=e)})),r&&(r.toLowerCase().startsWith("application/json")||r.toLowerCase().startsWith("application/graphql+json")||r.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},H=e=>"function"===typeof e?e():e,L=(e,...t)=>e.reduce(((e,r,n)=>`${e}${r}${n in t?t[n]:""}`),"")}}]);