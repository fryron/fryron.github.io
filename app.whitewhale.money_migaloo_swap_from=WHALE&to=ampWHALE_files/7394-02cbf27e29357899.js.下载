(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7394],{27484:function(n){n.exports=function(){"use strict";var n=1e3,t=6e4,e=36e5,r="millisecond",i="second",o="minute",l="hour",s="day",u="week",a="month",d="quarter",c="year",h="date",f="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(n,t,e){var r=String(n);return!r||r.length>=t?n:""+Array(t+1-r.length).join(e)+n},m={s:v,z:function(n){var t=-n.utcOffset(),e=Math.abs(t),r=Math.floor(e/60),i=e%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function n(t,e){if(t.date()<e.date())return-n(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,a),o=e-i<0,l=t.clone().add(r+(o?-1:1),a);return+(-(r+(e-i)/(o?i-l:l-i))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:a,y:c,w:u,d:s,D:h,h:l,m:o,s:i,ms:r,Q:d}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},b="en",j={};j[b]=g;var w=function(n){return n instanceof C},y=function n(t,e,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();j[o]&&(i=o),e&&(j[o]=e,i=o);var l=t.split("-");if(!i&&l.length>1)return n(l[0])}else{var s=t.name;j[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},$=function(n,t){if(w(n))return n.clone();var e="object"==typeof t?t:{};return e.date=n,e.args=arguments,new C(e)},S=m;S.l=y,S.i=w,S.w=function(n,t){return $(n,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(n){this.$L=y(n.locale,null,!0),this.parse(n)}var v=g.prototype;return v.parse=function(n){this.$d=function(n){var t=n.date,e=n.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(x);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(n),this.$x=n.x||{},this.init()},v.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(n,t){var e=$(n);return this.startOf(t)<=e&&e<=this.endOf(t)},v.isAfter=function(n,t){return $(n)<this.startOf(t)},v.isBefore=function(n,t){return this.endOf(t)<$(n)},v.$g=function(n,t,e){return S.u(n)?this[t]:this.set(e,n)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(n,t){var e=this,r=!!S.u(t)||t,d=S.p(n),f=function(n,t){var i=S.w(e.$u?Date.UTC(e.$y,t,n):new Date(e.$y,t,n),e);return r?i:i.endOf(s)},x=function(n,t){return S.w(e.toDate()[n].apply(e.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),e)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case c:return r?f(1,0):f(31,11);case a:return r?f(1,g):f(0,g+1);case u:var b=this.$locale().weekStart||0,j=(p<b?p+7:p)-b;return f(r?v-j:v+(6-j),g);case s:case h:return x(m+"Hours",0);case l:return x(m+"Minutes",1);case o:return x(m+"Seconds",2);case i:return x(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(n){return this.startOf(n,!1)},v.$set=function(n,t){var e,u=S.p(n),d="set"+(this.$u?"UTC":""),f=(e={},e[s]=d+"Date",e[h]=d+"Date",e[a]=d+"Month",e[c]=d+"FullYear",e[l]=d+"Hours",e[o]=d+"Minutes",e[i]=d+"Seconds",e[r]=d+"Milliseconds",e)[u],x=u===s?this.$D+(t-this.$W):t;if(u===a||u===c){var p=this.clone().set(h,1);p.$d[f](x),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](x);return this.init(),this},v.set=function(n,t){return this.clone().$set(n,t)},v.get=function(n){return this[S.p(n)]()},v.add=function(r,d){var h,f=this;r=Number(r);var x=S.p(d),p=function(n){var t=$(f);return S.w(t.date(t.date()+Math.round(n*r)),f)};if(x===a)return this.set(a,this.$M+r);if(x===c)return this.set(c,this.$y+r);if(x===s)return p(1);if(x===u)return p(7);var g=(h={},h[o]=t,h[l]=e,h[i]=n,h)[x]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(n,t){return this.add(-1*n,t)},v.format=function(n){var t=this,e=this.$locale();if(!this.isValid())return e.invalidDate||f;var r=n||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,l=this.$m,s=this.$M,u=e.weekdays,a=e.months,d=function(n,e,i,o){return n&&(n[e]||n(t,r))||i[e].slice(0,o)},c=function(n){return S.s(o%12||12,n,"0")},h=e.meridiem||function(n,t,e){var r=n<12?"AM":"PM";return e?r.toLowerCase():r},x={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:d(e.monthsShort,s,a,3),MMMM:d(a,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:d(e.weekdaysMin,this.$W,u,2),ddd:d(e.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:S.s(o,2,"0"),h:c(1),hh:c(2),a:h(o,l,!0),A:h(o,l,!1),m:String(l),mm:S.s(l,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(p,(function(n,t){return t||x[n]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var x,p=S.p(h),g=$(r),v=(g.utcOffset()-this.utcOffset())*t,m=this-g,b=S.m(this,g);return b=(x={},x[c]=b/12,x[a]=b,x[d]=b/3,x[u]=(m-v)/6048e5,x[s]=(m-v)/864e5,x[l]=m/e,x[o]=m/t,x[i]=m/n,x)[p]||m,f?b:S.a(b)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return j[this.$L]},v.locale=function(n,t){if(!n)return this.$L;var e=this.clone(),r=y(n,t,!0);return r&&(e.$L=r),e},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),k=C.prototype;return $.prototype=k,[["$ms",r],["$s",i],["$m",o],["$H",l],["$W",s],["$M",a],["$y",c],["$D",h]].forEach((function(n){k[n[1]]=function(t){return this.$g(t,n[0],n[1])}})),$.extend=function(n,t){return n.$i||(n(t,C,$),n.$i=!0),$},$.locale=y,$.isDayjs=w,$.unix=function(n){return $(1e3*n)},$.en=j[b],$.Ls=j,$.p={},$}()},70178:function(n){n.exports=function(){"use strict";var n="minute",t=/[+-]\d\d(?::?\d\d)?/g,e=/([+-]|\d\d)/g;return function(r,i,o){var l=i.prototype;o.utc=function(n){return new i({date:n,utc:!0,args:arguments})},l.utc=function(t){var e=o(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),n):e},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=l.parse;l.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),s.call(this,n)};var u=l.init;l.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else u.call(this)};var a=l.utcOffset;l.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?a.call(this):this.$offset;if("string"==typeof r&&(r=function(n){void 0===n&&(n="");var r=n.match(t);if(!r)return null;var i=(""+r[0]).match(e)||["-",0,0],o=i[0],l=60*+i[1]+ +i[2];return 0===l?0:"+"===o?l:-l}(r),null===r))return this;var l=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=l,s.$u=0===r,s;if(0!==r){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(l+u,n)).$offset=l,s.$x.$localOffset=u}else s=this.utc();return s};var d=l.format;l.format=function(n){var t=n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},l.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*n},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var c=l.toDate;l.toDate=function(n){return"s"===n&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var h=l.diff;l.diff=function(n,t,e){if(n&&this.$u===n.$u)return h.call(this,n,t,e);var r=this.local(),i=o(n).local();return h.call(r,i,t,e)}}}()},63144:function(n){"use strict";var t=self.fetch.bind(self);n.exports=t,n.exports.default=n.exports},59501:function(n,t,e){"use strict";e.d(t,{Z:function(){return X}});var r=e(34051),i=e.n(r),o=e(85893),l=e(67294),s=e(29736),u=e(68527),a=e(47398),d=e(64971),c=e(92762),h=e(96116),f=e(19878),x=e(64737),p=e(15193),g=e(79042),v=e(34651),m=function(n){var t=n.logos,e=n.more;return(0,o.jsxs)(u.Ug,{spacing:1,borderBottom:"1px dotted rgba(255, 255, 255, 0.5)",pb:"2",h:"30px",children:[(0,o.jsx)(u.Ug,{spacing:"0",children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,o.jsx)(u.xu,{boxShadow:"lg",borderRadius:"full",position:"absolute",pl:t>0&&"10px",zIndex:t,children:(0,o.jsx)(v.Ee,{src:n,width:"auto",maxW:"1.6rem",maxH:"1.6rem",alt:"token1-img"})},"".concat(n,"-").concat(t))}))}),e>0&&(0,o.jsxs)(u.xv,{fontSize:"sm",children:["+ ",e]})]})},b=function(n){var t,e=n.flows,r=(0,l.useMemo)((function(){return{logos:e.slice(0,2).map((function(n){return null===n||void 0===n?void 0:n.logoURI})),more:e.slice(3).length,hasIncentives:e.length>0}}),[e]),i=r.logos,s=void 0===i?[]:i,a=r.more,d=void 0===a?[]:a,c=r.hasIncentives;return void 0!==c&&c?(0,o.jsxs)(x.J2,{trigger:"hover",children:[(0,o.jsx)(x.xo,{children:(0,o.jsx)(p.zx,{variant:"unstyled",children:(0,o.jsx)(m,{logos:s,more:d})})}),(0,o.jsxs)(x.yk,{background:"black",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"5px",border:"unset",width:"auto",children:[(0,o.jsx)(x.QH,{bg:"black",boxShadow:"unset",style:{boxShadow:"unset"},sx:{"--popper-arrow-shadow-color":"black"}}),(0,o.jsx)(x.b,{children:(0,o.jsx)(g.xJ,{children:(0,o.jsxs)(g.iA,{size:"sm",variant:"unstyled",children:[(0,o.jsx)(g.hr,{children:(0,o.jsx)(g.Tr,{border:"0",children:(0,o.jsx)(g.Td,{color:"gray.500",children:"Token"})})}),(0,o.jsx)(g.p3,{children:e.map((function(n,r){return(0,o.jsx)(g.Tr,{borderBottom:r<e.length-1?"1px solid rgba(255, 255, 255, 0.1)":"unset",children:(0,o.jsx)(g.Td,{color:"white",children:null!==(t=null===n||void 0===n?void 0:n.tokenSymbol)&&void 0!==t?t:"Unknown"})},"".concat(null===n||void 0===n?void 0:n.tokenSymbol,"_").concat(r))}))})]})})})]})]}):(0,o.jsx)(u.xv,{children:"-"})},j=e(5292),w=e(87215),y=e(31479),$=e(47964),S=e(11163),C=e(3704),k=e(23544),M=e(4480),T=e(17280),D=e(36634),I=function(n){var t=n.chainIdParam,e=n.chainId,r=n.pool,i=(0,S.useRouter)(),s=(0,l.useMemo)((function(){return j.dS.includes(e)}),[e]);return(0,o.jsxs)(u.Ug,{spacing:2,children:[(0,o.jsxs)(p.zx,{variant:"outline",size:"sm",onClick:function(){i.push({pathname:"/".concat(t,"/pools/manage_liquidity"),query:{poolId:null===r||void 0===r?void 0:r.pool_id}})},children:[" ","Manage"]}),(0,o.jsxs)(p.zx,{variant:"outline",size:"sm",onClick:function(){i.push({pathname:"/".concat(t,"/pools/incentivize"),query:{poolId:null===r||void 0===r?void 0:r.pool_id}})},isDisabled:!s,children:[" ","Incentivize"]})]})},A=e(46052),O=e(24799),R=e(74866),_=function(n){var t,e=n.apr,r=n.flows,i=(0,l.useMemo)((function(){var n=r.reduce((function(n,t){return n+(isNaN(t.apr)?0:Number(t.apr))}),0);return Number(null===e||void 0===e?void 0:e.replace("%",""))+Number(n)}),[r,e]);return(0,o.jsxs)(x.J2,{trigger:"hover",children:[(0,o.jsx)(x.xo,{children:(0,o.jsx)(p.zx,{variant:"unstyled",children:(0,o.jsx)(u.Ug,{borderBottom:"1px dotted rgba(255, 255, 255, 0.5)",h:"30px",children:(0,o.jsxs)(u.xv,{align:"right",children:[i.toFixed(2),"%"]})})})}),(0,o.jsxs)(x.yk,{background:"black",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"5px",border:"unset",width:"auto",children:[(0,o.jsx)(x.QH,{bg:"black",boxShadow:"unset",style:{boxShadow:"unset"},sx:{"--popper-arrow-shadow-color":"black"}}),(0,o.jsx)(x.b,{children:(0,o.jsx)(g.xJ,{children:(0,o.jsxs)(g.iA,{size:"sm",variant:"unstyled",children:[(0,o.jsx)(g.hr,{children:(0,o.jsxs)(g.Tr,{border:"0",children:[(0,o.jsx)(g.Td,{color:"gray.500",children:"Source"}),(0,o.jsx)(g.Td,{color:"gray.500",isNumeric:!0,children:"APR"})]})}),(0,o.jsxs)(g.p3,{children:[(0,o.jsxs)(g.Tr,{borderBottom:0===r.length?"none":"1px solid rgba(255, 255, 255, 0.1)",children:[(0,o.jsx)(g.Td,{color:"white",children:"Fees"}),(0,o.jsx)(g.Td,{color:"white",isNumeric:!0,children:e})]}),null===r||void 0===r?void 0:r.map((function(n,e){return(0,o.jsxs)(g.Tr,{borderBottom:e<r.length-1?"1px solid rgba(255, 255, 255, 0.1)":"unset",children:[(0,o.jsxs)(g.Td,{color:"white",children:[null!==(t=null===n||void 0===n?void 0:n.tokenSymbol)&&void 0!==t?t:"Unknown"," Incentive"]}),(0,o.jsxs)(g.Td,{color:"white",isNumeric:!0,children:[null===n||void 0===n?void 0:n.apr.toFixed(2),"%"]})]},"".concat(null===n||void 0===n?void 0:n.tokenSymbol,"_").concat(e))}))]})]})})})]})]})},U=function(n){var t=n.liquidity,e=n.infos,r=e.poolAssets;return(0,o.jsx)(a.u,{sx:{boxShadow:"none"},label:(0,o.jsx)(u.gC,{minW:"250px",minH:"fit-content",borderRadius:"10px",bg:"blackAlpha.900",px:"4",py:"4",position:"relative",border:"none",justifyContent:"center",alignItems:"center",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(o.Fragment,{children:" "}),r.map((function(n,t){return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsxs)(u.Ug,{justify:"space-between",direction:"row",width:"full",px:2,children:[(0,o.jsx)(u.xv,{color:"whiteAlpha.600",fontSize:14,children:n.name}),(0,o.jsx)(u.xv,{fontSize:14,children:(e.liquidity.reserves.total[t]/Math.pow(10,e.poolAssets[t].decimals)).toFixed(2)})]}),t!==r.length-1&&(0,o.jsx)(u.iz,{width:"93%",borderWidth:"0.1px",color:"whiteAlpha.300"})]},n.name)}))]})}),bg:"transparent",children:(0,o.jsxs)(u.gC,{alignItems:"flex-start",minW:100,children:[(0,o.jsx)(u.xv,{mb:"-0.3rem",color:"white",children:(0,o.jsx)(u.Ug,{borderBottom:"1px dotted rgba(255, 255, 255, 0.5)",h:"30px",children:(0,o.jsx)(u.xv,{align:"right",children:t})})}),(0,o.jsx)(u.xu,{pb:1,children:(0,o.jsx)("div",{style:{width:"0px",height:"1px",background:"repeating-linear-gradient(\n            to right,\n            white,\n            white 1px,\n            transparent 1px,\n            transparent 5px\n          )"}})})]})})},L=e(59996),P=function(n){var t=n.poolId,e=n.token1Img,r=n.token2Img;return(0,o.jsxs)(u.Ug,{alignItems:"center",children:[(0,o.jsxs)(u.Ug,{spacing:"-1",width:"70px",children:[(0,o.jsx)(u.xu,{boxShadow:"lg",borderRadius:"full",position:"relative",p:"5px",bg:"black",children:(0,o.jsx)(v.Ee,{src:e,width:"auto",maxW:"1.6rem",maxH:"1.6rem",alt:"token1-img",fallback:(0,o.jsx)(L.Z,{width:"8",height:"8",color:["#5DB7DE","#343434"]})})}),(0,o.jsx)(u.xu,{borderRadius:"full",p:"4px",border:"1px solid rgba(255, 255, 255, 0.1)",children:(0,o.jsx)(v.Ee,{src:r,width:"auto",maxW:"1.6rem",maxH:"1.6rem",alt:"token2-img",fallback:(0,o.jsx)(L.Z,{width:"7",height:"7",color:["#FFE66D","#343434"]})})})]}),(0,o.jsx)(u.xv,{textAlign:"center",fontSize:["12px","16px"],children:t})]})};function q(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function H(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o=[],l=!0,s=!1;try{for(e=e.call(n);!(l=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(u){s=!0,i=u}finally{try{l||null==e.return||e.return()}finally{if(s)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return q(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return q(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=(0,O.createColumnHelper)(),z=[V.accessor("pool",{header:function(){return(0,o.jsx)(u.xv,{color:"brand.50",display:"inline",children:"Pool"})},cell:function(n){var t,e;return(0,o.jsx)(P,{poolId:n.getValue(),token1Img:null===(t=n.row.original)||void 0===t?void 0:t.token1Img,token2Img:null===(e=n.row.original)||void 0===e?void 0:e.token2Img})}}),V.accessor("price",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",display:"inline",children:"RATIO"})},cell:function(n){return(0,o.jsx)(u.xv,{align:"right",children:n.getValue()})}}),V.accessor("apr",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",display:"inline",children:"APR"})},cell:function(n){var t;return"n/a"===n.getValue()?(0,o.jsx)(u.xv,{children:n.getValue()}):(0,o.jsx)(_,{apr:null===(t=n.getValue())||void 0===t?void 0:t.toString(),flows:n.row.original.flows})}}),V.accessor("volume24hr",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",display:"inline",children:"24hr Volume"})},cell:function(n){return(0,o.jsx)(u.xv,{align:"right",children:n.getValue()})}}),V.accessor("totalLiq",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",display:"inline",children:"Total Liquidity"})},cell:function(n){var t;return(0,o.jsx)(U,{liquidity:null===(t=n.getValue())||void 0===t?void 0:t.toString(),infos:n.row.original})}}),V.accessor("incentives",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",display:"inline",children:"Incentives"})},cell:function(n){return n.getValue()}}),V.accessor("action",{header:function(){return(0,o.jsx)(u.xv,{align:"left",color:"brand.50",display:"inline",children:"Action"})},cell:function(n){return n.getValue()}})],Y=function(n){var t=n.pools,e=n.isLoading,r=H(l.useState([]),2),i=r[0],a=r[1],d=(0,O.useReactTable)({data:t,columns:z,getCoreRowModel:(0,O.getCoreRowModel)(),onSortingChange:a,getSortedRowModel:(0,O.getSortedRowModel)(),state:{sorting:i}});return e||!t?(0,o.jsx)(u.kC,{padding:10,width:["full","1160px"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",justifyContent:"center",children:(0,o.jsx)(R.Z,{})}):t&&!t.length?(0,o.jsx)(u.kC,{padding:10,width:["full","1160px"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",justifyContent:"center",children:(0,o.jsx)(u.xv,{py:10,color:"white",children:"All remaining pools will appear here."})}):(0,o.jsx)(u.kC,{padding:10,width:["full","auto"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",display:["none","flex"],flexDirection:"column",children:(0,o.jsx)(g.xJ,{width:"full",children:(0,o.jsxs)(g.iA,{variant:"unstyled",children:[(0,o.jsx)(g.hr,{children:d.getHeaderGroups().map((function(n){return(0,o.jsx)(g.Tr,{children:n.headers.map((function(n){return(0,o.jsxs)(g.Th,{color:"brand.50",onClick:"action"===n.id||"incentives"===n.id?null:n.column.getToggleSortingHandler(),children:[n.isPlaceholder?null:(0,O.flexRender)(n.column.columnDef.header,n.getContext()),(0,o.jsx)(A.m$.span,{pl:"2",children:n.column.getIsSorted()?"desc"===n.column.getIsSorted()?(0,o.jsx)(s.AS,{"aria-label":"sorted descending"}):(0,o.jsx)(s.$l,{"aria-label":"sorted ascending"}):null})]},n.id)}))},n.id)}))}),(0,o.jsx)(g.p3,{children:d.getRowModel().rows.map((function(n){return(0,o.jsx)(g.Tr,{children:n.getVisibleCells().map((function(n){return(0,o.jsx)(g.Td,{children:(0,O.flexRender)(n.column.columnDef.cell,n.getContext())},n.id)}))},n.id)}))})]})})})},W=function(n){var t=n.pools,e=n.ctaLabel;return(0,o.jsx)(u.gC,{width:"full",display:["flex","none"],gap:8,children:t&&t.map((function(n){return(0,o.jsxs)(u.gC,{padding:10,width:["full","1160px"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",justifyContent:"center",children:[(0,o.jsxs)(u.Ug,{width:"full",justifyContent:"space-between",children:[(0,o.jsx)(u.xv,{color:"brand.50",children:"Pool"}),(0,o.jsx)(u.xv,{color:"brand.50",children:"APY"})]}),(0,o.jsxs)(u.Ug,{width:"full",justifyContent:"space-between",children:[(0,o.jsx)(P,{poolId:null===n||void 0===n?void 0:n.pool,token1Img:n.token1Img,token2Img:null===n||void 0===n?void 0:n.token2Img}),(0,o.jsx)(u.xv,{color:"brand.50",children:"coming soon"})]}),(0,o.jsx)(u.Ug,{height:"24px"}),(0,o.jsxs)(u.Ug,{width:"full",justifyContent:"space-between",children:[(0,o.jsx)(u.xv,{color:"brand.50",children:"Total Liquidity"}),(0,o.jsx)(u.xv,{color:"brand.50",children:"24h volume"})]}),(0,o.jsxs)(u.Ug,{width:"full",justifyContent:"space-between",children:[(0,o.jsx)(u.xv,{children:"$ ".concat(null===n||void 0===n?void 0:n.totalLiq)}),(0,o.jsx)(u.xv,{children:" coming soon"})]}),(0,o.jsx)(u.Ug,{height:"24px"}),(0,o.jsx)(p.zx,{variant:"outline",size:"sm",width:"full",onClick:function(){return null===n||void 0===n?void 0:n.cta()},children:e||"Manage Liquidity"})]},null===n||void 0===n?void 0:n.pool)}))})},N=(0,O.createColumnHelper)(),E=[N.accessor("pool",{header:function(){return(0,o.jsx)(u.xv,{color:"brand.50",children:"Pool"})},cell:function(n){var t,e;return(0,o.jsx)(P,{poolId:n.getValue(),token1Img:null===(t=n.row.original)||void 0===t?void 0:t.token1Img,token2Img:null===(e=n.row.original)||void 0===e?void 0:e.token2Img})}}),N.accessor("price",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",children:"RATIO"})},cell:function(n){return(0,o.jsx)(u.xv,{align:"right",children:n.getValue()})}}),N.accessor("apr",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",children:"APR"})},cell:function(n){var t;return"n/a"===n.getValue()?(0,o.jsx)(u.xv,{children:n.getValue()}):(0,o.jsx)(_,{apr:null===(t=n.getValue())||void 0===t?void 0:t.toString(),flows:n.row.original.flows})}}),N.accessor("volume24hr",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",children:"24hr Volume"})},cell:function(n){return(0,o.jsx)(u.xv,{align:"right",children:n.getValue()})}}),N.accessor("totalLiq",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",children:"Total Liquidity"})},cell:function(n){return(0,o.jsx)(u.xv,{align:"right",children:n.getValue()})}}),N.accessor("myPosition",{header:function(){return(0,o.jsx)(u.xv,{align:"right",color:"brand.50",children:"My Position"})},cell:function(n){return(0,o.jsxs)(u.xv,{align:"right",children:["$",n.getValue()]})}}),N.accessor("incentives",{header:function(){return(0,o.jsx)(u.xv,{align:"left",color:"brand.50",children:"Incentives"})},cell:function(n){return n.getValue()}}),N.accessor("action",{header:function(){return(0,o.jsx)(u.xv,{align:"left",color:"brand.50",children:"Action"})},cell:function(n){return n.getValue()}})],F=function(n){var t=n.show,e=n.pools,r=n.isLoading;if(!t)return null;var i=(0,O.useReactTable)({data:e,columns:E,getCoreRowModel:(0,O.getCoreRowModel)()});return r||!e?(0,o.jsx)(u.kC,{padding:10,width:["full","auto"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",justifyContent:"center",children:(0,o.jsx)(R.Z,{})}):e&&!e.length?(0,o.jsx)(u.kC,{padding:10,width:["full","auto"],background:"#1C1C1C",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",justifyContent:"center",children:(0,o.jsx)(u.xv,{py:10,color:"white",children:"Your active liquidity positions will appear here."})}):(0,o.jsx)(u.kC,{px:"30px",background:"#212121",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.25)",borderRadius:"30px",display:["none","flex"],flexDirection:"column",children:(0,o.jsx)(g.xJ,{width:"full",overflowX:"hidden",children:(0,o.jsxs)(g.iA,{variant:"unstyled",children:[(0,o.jsxs)(g.hr,{children:[(0,o.jsxs)(g.Tr,{children:[(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{bg:"rgba(255, 255, 255, 0.05)",p:"2px",borderTopRadius:"10px"}),(0,o.jsx)(g.Th,{}),(0,o.jsx)(g.Th,{isNumeric:!0})]}),i.getHeaderGroups().map((function(n){return(0,o.jsx)(g.Tr,{children:n.headers.map((function(n){return(0,o.jsx)(g.Th,{color:"brand.50",bg:"myPosition"===n.id&&"rgba(255, 255, 255, 0.05)",children:n.isPlaceholder?null:(0,O.flexRender)(n.column.columnDef.header,n.getContext())},n.id)}))},n.id)}))]}),(0,o.jsx)(g.p3,{children:i.getRowModel().rows.map((function(n,t){return(0,o.jsx)(g.Tr,{borderBottom:t!==i.getRowModel().rows.length-1&&"1px solid rgba(255, 255, 255, 0.1)",children:n.getVisibleCells().map((function(n){var t;return(0,o.jsx)(g.Td,{bg:"myPosition"===(null===n||void 0===n||null===(t=n.column)||void 0===t?void 0:t.id)&&"rgba(255, 255, 255, 0.05)",children:(0,O.flexRender)(n.column.columnDef.cell,n.getContext())},n.id)}))},n.id)}))}),(0,o.jsx)(g.$R,{children:(0,o.jsxs)(g.Tr,{children:[(0,o.jsx)(g.Td,{}),(0,o.jsx)(g.Td,{}),(0,o.jsx)(g.Td,{}),(0,o.jsx)(g.Td,{}),(0,o.jsx)(g.Td,{}),(0,o.jsx)(g.Td,{bg:"rgba(255, 255, 255, 0.05)",p:"2px",borderBottomRadius:"10px"})]})})]})})})};function B(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Z(n,t,e,r,i,o,l){try{var s=n[o](l),u=s.value}catch(a){return void e(a)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function l(n){Z(o,r,i,l,s,"next",n)}function s(n){Z(o,r,i,l,s,"throw",n)}l(void 0)}))}}function Q(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function G(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){Q(n,t,e[t])}))}return n}function K(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o=[],l=!0,s=!1;try{for(e=e.call(n);!(l=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(u){s=!0,i=u}finally{try{l||null==e.return||e.return()}finally{if(s)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return B(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return B(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(){var n=(0,l.useState)([]),t=n[0],e=n[1],r=(0,l.useState)(!0),x=r[0],p=r[1],g=(0,M.sJ)(D.Zc),v=g.chainId,m=g.status,A=g.network,O=K((0,M.FV)(T.M),2),R=(O[0],O[1]),_=m===D.Hm.connected,U=(0,l.useState)(!j.dS.includes(v)),L=U[0],P=U[1],q=(0,l.useState)(!1),H=q[0],V=q[1],z=(0,y.r)(v),N=(0,c.Z)(A,v),E=(0,h.q)(z,N).data,B=(0,l.useMemo)((function(){var n;return Number(null===E||void 0===E||null===(n=E.currentEpoch)||void 0===n?void 0:n.epoch.id)}),[E]),Z=(0,S.useRouter)().query.chainId,Q=(0,C.r)().data,X=K((0,$.v)((0,k.bD)({refetchInBackground:!1,pools:null===Q||void 0===Q?void 0:Q.pools,client:z})),2),nn=X[0],tn=X[1],en=(0,l.useMemo)((function(){var n;return null===(n=null===nn||void 0===nn?void 0:nn.filter((function(n){var t,e=n.liquidity;return(null===e||void 0===e||null===(t=e.providedTotal)||void 0===t?void 0:t.tokenAmount)>0})))||void 0===n?void 0:n.length}),[nn]),rn=(0,w.C)(),on=(0,l.useMemo)((function(){var n,t;return null===(n=rn.find((function(n){return n.chainId===v})))||void 0===n||null===(t=n.bech32Config)||void 0===t?void 0:t.bech32PrefixAccAddr}),[rn,v]),ln=(0,f.g)(z,nn,on),sn=ln.flowPoolData,un=ln.poolsWithAprAnd24HrVolume,an=ln.isLoading;window.debugLogsEnabled&&(console.log("Pools-Liquidity: ",nn),console.log("Incentive-Pool-Infos: ",sn));var dn,cn,hn=function(n){var t;return((null===(t=n.liquidity)||void 0===t?void 0:t.providedTotal)||{}).dollarValue.toFixed(2)};(0,l.useEffect)((function(){if(!(!nn||nn&&0===nn.length||tn||an||0===un.length)&&!(t.length>0)){var n=function(){var n=J(i().mark((function n(){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(!0),t=nn.map((function(n){return G({},n,un.find((function(t){return t.pool_id===n.pool_id})))})),n.next=4,Promise.all(t.map(function(){var n=J(i().mark((function n(t){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=j.pg.includes(null===t||void 0===t?void 0:t.pool_assets[0].symbol)||j.pg.includes(null===t||void 0===t?void 0:t.pool_assets[1].symbol),n.abrupt("return",{contract:null===t||void 0===t?void 0:t.swap_address,pool:null===t||void 0===t?void 0:t.displayName,poolId:null===t||void 0===t?void 0:t.pool_id,token1Img:null===t||void 0===t?void 0:t.displayLogo1,token2Img:null===t||void 0===t?void 0:t.displayLogo2,apr:null===t||void 0===t?void 0:t.apr7d,volume24hr:null===t||void 0===t?void 0:t.usdVolume24h,totalLiq:null===t||void 0===t?void 0:t.TVL,myPosition:hn(t),liquidity:null===t||void 0===t?void 0:t.liquidity,poolAssets:null===t||void 0===t?void 0:t.pool_assets,price:null===t||void 0===t?void 0:t.ratio,isUSDPool:e,flows:[],incentives:(0,o.jsx)(b,{flows:[]},t.pool_id),action:(0,o.jsx)(I,{chainIdParam:Z,chainId:v,pool:t})});case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 4:r=n.sent,e(r),r.length>0&&p(!1);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[nn,sn,L,un]);var fn=(0,l.useMemo)((function(){return null!==(cn=null===sn||void 0===sn?void 0:sn.map((function(n){var t;return null!==(dn=null===(t=n.flowData)||void 0===t?void 0:t.length)&&void 0!==dn?dn:0})).reduce((function(n,t){return n+t}),0))&&void 0!==cn?cn:0}),[sn]);(0,l.useEffect)((function(){var n=t.map((function(n){var t,e,r=(null!==(e=null===(t=null===sn||void 0===sn?void 0:sn.find((function(t){return t.poolId===n.poolId})))||void 0===t?void 0:t.flowData)&&void 0!==e?e:[]).filter((function(n){return n.endEpoch>=B})),i=r.reduce((function(n,t){return n+(isNaN(t.apr)?0:Number(t.apr))}),0);return(0,T.x)(null===n||void 0===n?void 0:n.poolId,null===n||void 0===n?void 0:n.apr,i,R),r?G({},n,{flows:r,incentives:(0,o.jsx)(b,{flows:r},n.pool_id)}):n}));e(n)}),[fn,x]),(0,l.useEffect)((function(){if(en>0){var n=nn.filter((function(n){var t,e=n.liquidity;return(null===e||void 0===e||null===(t=e.providedTotal)||void 0===t?void 0:t.tokenAmount)>0})),r=n.map((function(n){return n.pool_id})),i=t.map((function(t){return r.includes(t.poolId)?G({},t,{liquidity:n.find((function(n){return n.pool_id===t.poolId})).liquidity}):t}));e(i)}}),[en]),(0,l.useEffect)((function(){(null===sn||void 0===sn?void 0:sn.length)>0&&P(!0)}),[sn]);var xn=(0,l.useState)([]),pn=xn[0],gn=xn[1];(0,l.useEffect)((function(){_||gn([])}),[_]),(0,l.useEffect)((function(){if(t&&_){var n=t.filter((function(n){var t,e=n.liquidity;return(null===e||void 0===e||null===(t=e.providedTotal)||void 0===t?void 0:t.tokenAmount)>0}));gn(n)}}),[t]);var vn=(0,l.useMemo)((function(){return null===pn||void 0===pn?void 0:pn.map((function(n){return n.pool}))}),[pn]),mn=(0,l.useMemo)((function(){return null===t||void 0===t?void 0:t.filter((function(n){return!(null===vn||void 0===vn?void 0:vn.includes(n.pool))}))}),[t,vn]),bn=(0,l.useMemo)((function(){return H?mn:mn.filter((function(n){return function(n){var t=parseFloat(n.replace(/[^\d.-]/g,""));return n.toUpperCase().includes("K")?1e3*t:n.toUpperCase().includes("M")?1e6*t:t}(n.totalLiq)>1e3}))}),[mn,H]);return(0,o.jsxs)(u.gC,{width:{base:"100%",md:"auto"},alignItems:"center",margin:"auto",children:[(0,o.jsxs)(u.xu,{width:{base:"100%"},children:[(0,o.jsx)(u.xv,{as:"h2",fontSize:"24",fontWeight:"700",children:"My Pools"}),(0,o.jsx)(F,{show:!0,pools:pn,isLoading:tn||x||0===un.length}),(0,o.jsx)(W,{pools:pn})]}),(0,o.jsxs)(u.xu,{children:[(0,o.jsxs)(u.Ug,{justifyContent:"space-between",width:"full",paddingY:10,children:[(0,o.jsx)(u.xv,{as:"h2",fontSize:"24",fontWeight:"700",children:"All Pools"}),(0,o.jsxs)(u.Kq,{direction:"row",children:[(0,o.jsx)(a.u,{label:(0,o.jsx)(u.xu,{maxWidth:"250px",minWidth:"fit-content",borderRadius:"10px",bg:"black",color:"white",fontSize:14,p:4,whiteSpace:"pre-wrap",children:"By default, pools with less than $1.0k total liquidity will be hidden but optionally can be shown."}),bg:"transparent",hasArrow:!1,placement:"bottom",closeOnClick:!1,arrowSize:0,children:(0,o.jsxs)(u.xv,{as:"h6",fontSize:"14",fontWeight:"700",children:[(0,o.jsx)(s.hQ,{marginRight:2,mb:1}),"Show All Pools"]})}),(0,o.jsx)(d.r,{isChecked:H,onChange:function(){return V(!H)},colorScheme:"green",size:"sm"})]})]}),(0,o.jsx)(Y,{pools:bn,isLoading:tn||x||0===un.length}),(0,o.jsx)(W,{pools:mn,ctaLabel:"Add Liquidity"})]})]})}}}]);