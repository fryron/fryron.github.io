"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2762],{13847:function(n,r,t){t.d(r,{X:function(){return i},v:function(){return c}});var e=t(34051),u=t.n(e);function o(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function a(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var a=n.apply(r,t);function i(n){o(a,e,u,i,c,"next",n)}function c(n){o(a,e,u,i,c,"throw",n)}i(void 0)}))}}var i=function(){var n=a(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,c(r,t);case 4:return e=n.sent,n.abrupt("return",{currentEpoch:e});case 6:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),c=function(){var n=a(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===r||void 0===r?void 0:r.queryContractSmart(t.fee_distributor,{current_epoch:{}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}()},92762:function(n,r,t){t.d(r,{Z:function(){return en},r:function(){return un}});var e=t(34051),u=t.n(e),o=t(67294),a=t(88767),i=t(14201);function c(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function s(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){c(o,e,u,a,i,"next",n)}function i(n){c(o,e,u,a,i,"throw",n)}a(void 0)}))}}var l=function(){var n=s(u().mark((function n(r,t,e){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(e.whale_lair,{bonded:{address:t}});case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),f=function(){var n=s(u().mark((function n(r,t,e){var o,a,c,s,f,p,d,v;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t){n.next=3;break}return n.abrupt("return",null);case 3:return n.next=5,l(r,t,e);case 5:return c=n.sent,f=null!==(s=null===c||void 0===c?void 0:c.total_bonded)&&void 0!==s?s:0,p=Number(f),d=c?(0,i.rp)(null===(o=null===c||void 0===c?void 0:c.bonded_assets.find((function(n){return n.info.native_token.denom===e.lsd_token.ampWHALE.denom})))||void 0===o?void 0:o.amount,e.lsd_token.ampWHALE.decimals):null,v=c?(0,i.rp)(null===(a=null===c||void 0===c?void 0:c.bonded_assets.find((function(n){return n.info.native_token.denom===e.lsd_token.bWHALE.denom})))||void 0===a?void 0:a.amount,e.lsd_token.bWHALE.decimals):null,n.abrupt("return",{bondedAmpWhale:d,bondedBWhale:v,localTotalBonded:p});case 12:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}();function p(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function d(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){p(o,e,u,a,i,"next",n)}function i(n){p(o,e,u,a,i,"throw",n)}a(void 0)}))}}var v=function(){var n=d(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r||t){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,h(r,t);case 4:return e=n.sent,n.abrupt("return",{bondingConfig:e});case 6:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),h=function(){var n=d(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(t.whale_lair,{config:{}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}();function b(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function m(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){b(o,e,u,a,i,"next",n)}function i(n){b(o,e,u,a,i,"throw",n)}a(void 0)}))}}var y=function(){var n=m(u().mark((function n(r,t,e){var o,a,c,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,w(r,t,e);case 4:return o=n.sent,a=null===o||void 0===o?void 0:o.epochs.length,c=null===o||void 0===o?void 0:o.epochs.flatMap((function(n){return n.available.map((function(n){return n.amount}))})).reduce((function(n,r){return n+parseFloat(r)}),0),s=(0,i.rp)(c,6),n.abrupt("return",{totalGlobalClaimable:s,daysSinceLastClaim:a});case 9:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),w=function(){var n=m(u().mark((function n(r,t,e){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(e.fee_distributor,{claimable:{address:t}});case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}();function x(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function k(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){x(o,e,u,a,i,"next",n)}function i(n){x(o,e,u,a,i,"throw",n)}a(void 0)}))}}var g=function(){var n=k(u().mark((function n(r,t){var e,o,a,c,s,l,f;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,_(r,t);case 4:return e=n.sent,o=null===e||void 0===e?void 0:e.epochs.flatMap((function(n){return n.total.map((function(n){return n.amount}))})).reduce((function(n,r){return n+parseFloat(r)}),0),a=(0,i.rp)(o,6),c=function(n){var r=n.slice(0,21);return r.flatMap((function(n){return n.total.map((function(n){return n.amount}))})).reduce((function(n,r){return n+parseFloat(r)}),0)/r.length},s=function(n){return(0,i.rp)(365*n,6)},l=(null===e||void 0===e?void 0:e.epochs)?c(e.epochs):0,f=s(l),n.abrupt("return",{globalAvailableRewards:a,annualRewards:f});case 12:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),_=function(){var n=k(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(t.fee_distributor,{claimable_epochs:{}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),q=t(13847);function B(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function P(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){B(o,e,u,a,i,"next",n)}function i(n){B(o,e,u,a,i,"throw",n)}a(void 0)}))}}var S=function(){var n=P(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,A(r,t);case 4:return e=n.sent,n.abrupt("return",{feeDistributionConfig:e});case 6:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),A=function(){var n=P(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(t.fee_distributor,{config:{}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}();function C(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function E(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){C(o,e,u,a,i,"next",n)}function i(n){C(o,e,u,a,i,"throw",n)}a(void 0)}))}}var O=function(){var n=E(u().mark((function n(r,t){var e,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",null);case 2:return n.prev=2,n.next=5,j(r,t);case 5:return e=n.sent,o=(0,i.rp)((null===e||void 0===e?void 0:e.total_bonded)||0,6),n.abrupt("return",{globalTotalBonded:o});case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt("return",0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(r,t){return n.apply(this,arguments)}}(),j=function(){var n=E(u().mark((function n(r,t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(t.whale_lair,{total_bonded:{}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}();function F(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function I(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function W(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){I(o,e,u,a,i,"next",n)}function i(n){I(o,e,u,a,i,"throw",n)}a(void 0)}))}}function M(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,u,o=[],a=!0,i=!1;try{for(t=t.call(n);!(a=(e=t.next()).done)&&(o.push(e.value),!r||o.length!==r);a=!0);}catch(c){i=!0,u=c}finally{try{a||null==t.return||t.return()}finally{if(i)throw u}}return o}}(n,r)||L(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(n){return function(n){if(Array.isArray(n))return F(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||L(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(n,r){if(n){if("string"===typeof n)return F(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(n,r):void 0}}var N=function(){var n=W(u().mark((function n(r,t,e){var o,a,c,s,l,f,p,d,v,b,m,y;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t){n.next=3;break}return n.abrupt("return",null);case 3:return n.next=5,T(r,t,e);case 5:return c=n.sent,n.next=8,h(r,e);case 8:return s=n.sent,l=Number(null===s||void 0===s?void 0:s.unbonding_period),f=1e6*Date.now(),d=(p=function(n){return n?n.filter((function(n){return Number(n.timestamp)+l>f})):[]})(null===c||void 0===c||null===(o=c[0])||void 0===o?void 0:o.unbonding_requests),v=p(null===c||void 0===c||null===(a=c[1])||void 0===a?void 0:a.unbonding_requests),b=K(d||[]).concat(K(v||[])).sort((function(n,r){return new Date((0,i.Vz)(Number(n.timestamp))).getTime()-new Date((0,i.Vz)(Number(r.timestamp))).getTime()})),m=(0,i.rp)((null===d||void 0===d?void 0:d.map((function(n){return n.asset.amount})).reduce((function(n,r){return n+parseFloat(r)}),0))||0,e.lsd_token.ampWHALE.decimals),y=(0,i.rp)((null===v||void 0===v?void 0:v.map((function(n){return n.asset.amount})).reduce((function(n,r){return n+parseFloat(r)}),0))||0,e.lsd_token.bWHALE.decimals),n.abrupt("return",{unbondingAmpWhale:m,unbondingBWhale:y,filteredUnbondingRequests:b});case 18:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),T=function(){var n=W(u().mark((function n(r,t,e){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(Object.entries(e.lsd_token).map(function(){var n=W(u().mark((function n(o){var a,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=M(o,2),a[0],i=a[1],n.abrupt("return",r.queryContractSmart(e.whale_lair,{unbonding:{address:t,denom:i.denom}}));case 2:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}())));case 1:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}();function D(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function H(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){D(o,e,u,a,i,"next",n)}function i(n){D(o,e,u,a,i,"throw",n)}a(void 0)}))}}var R=function(){var n=H(u().mark((function n(r,t,e){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t){n.next=2;break}return n.abrupt("return",null);case 2:return n.prev=2,n.next=5,U(r,t,e);case 5:return o=n.sent,n.abrupt("return",{weightInfo:o});case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(r,t,e){return n.apply(this,arguments)}}(),U=function(){var n=H(u().mark((function n(r,t,e){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.queryContractSmart(e.whale_lair,{weight:{address:t}});case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}();function z(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function V(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function X(n){return function(){var r=this,t=arguments;return new Promise((function(e,u){var o=n.apply(r,t);function a(n){V(o,e,u,a,i,"next",n)}function i(n){V(o,e,u,a,i,"throw",n)}a(void 0)}))}}function $(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,u,o=[],a=!0,i=!1;try{for(t=t.call(n);!(a=(e=t.next()).done)&&(o.push(e.value),!r||o.length!==r);a=!0);}catch(c){i=!0,u=c}finally{try{a||null==t.return||t.return()}finally{if(i)throw u}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return z(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(){var n=X(u().mark((function n(r,t,e){var o,a,c,s,l;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t){n.next=3;break}return n.abrupt("return",null);case 3:return n.next=5,Q(r,t,e);case 5:return c=n.sent,s=(0,i.rp)(null===c||void 0===c||null===(o=c[0])||void 0===o?void 0:o.withdrawable_amount,6),l=(0,i.rp)(null===c||void 0===c||null===(a=c[1])||void 0===a?void 0:a.withdrawable_amount,6),n.abrupt("return",{withdrawableAmpWhale:s,withdrawableBWhale:l});case 9:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),Q=function(){var n=X(u().mark((function n(r,t,e){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(Object.entries(e.lsd_token).map(function(){var n=X(u().mark((function n(o){var a,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=$(o,2),a[0],i=a[1],n.abrupt("return",r.queryContractSmart(e.whale_lair,{withdrawable:{address:t,denom:i.denom}}));case 2:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),Z=t(5292),J=t(31479),Y=t(96486);function nn(n,r,t,e,u,o,a){try{var i=n[o](a),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(e,u)}function rn(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function tn(n){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),e.forEach((function(r){rn(n,r,t[r])}))}return n}var en=function(n,r){var t=(0,o.useState)(null),e=t[0],a=t[1];return(0,o.useEffect)((function(){if(n&&r){var t=function(){var t,e=(t=u().mark((function t(){var e,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/".concat(n,"/").concat(r,"/config.json"));case 3:return e=t.sent,t.next=6,e.json();case 6:o=t.sent,a(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Failed to load config:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var n=this,r=arguments;return new Promise((function(e,u){var o=t.apply(n,r);function a(n){nn(o,e,u,a,i,"next",n)}function i(n){nn(o,e,u,a,i,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();t()}}),[n,r]),e},un=function(n,r,t,e){var u=(0,o.useMemo)((function(){return(0,Y.debounce)((function(n){return n()}),500)}),[]),i=en(t,e),c=(0,J.r)(e),s=(0,a.useQueries)([{queryKey:["bonded",r,t,e],queryFn:function(){return f(n,r,i)},enabled:Boolean(n)&&Boolean(r)&&Boolean(i),refetchOnMount:"always",refetchInterval:Z.w7},{queryKey:["unbonding",r,t,e],queryFn:function(){return N(n,r,i)},enabled:Boolean(n)&&Boolean(r)&&Boolean(i),refetchOnMount:"always",refetchInterval:Z.w7},{queryKey:["withdrawable",r,t,e],queryFn:function(){return G(n,r,i)},enabled:Boolean(n)&&Boolean(r)&&Boolean(i),refetchOnMount:"always",refetchInterval:Z.w7},{queryKey:["totalBonded",t,e],queryFn:function(){return O(c,i)},enabled:Boolean(c)&&Boolean(i)},{queryKey:["weightInfo",r,t,e],queryFn:function(){return R(n,r,i)},enabled:Boolean(n)&&Boolean(r)&&Boolean(i)},{queryKey:["feeDistributionConfig",t,e],queryFn:function(){return S(c,i)},enabled:Boolean(c)&&Boolean(i)},{queryKey:["currentEpoch",t,e],queryFn:function(){return(0,q.X)(c,i)},enabled:Boolean(c)&&Boolean(i)},{queryKey:["claimableEpochs",t,e],queryFn:function(){return g(c,i)},enabled:Boolean(c)&&Boolean(i)},{queryKey:["claimableRewards",r,t,e],queryFn:function(){return y(n,r,i)},enabled:Boolean(n)&&Boolean(r)&&Boolean(i)},{queryKey:["bondingConfig",t,e],queryFn:function(){return v(c,i)},enabled:Boolean(c)&&Boolean(i)}]),l=(0,o.useMemo)((function(){return s.some((function(n){return n.isLoading||null===n.data||void 0===n.data}))}),[s]),p=(0,o.useMemo)((function(){return tn({},s[0].data,s[1].data,s[2].data,s[3].data,s[4].data,s[5].data,s[6].data,s[7].data,s[8].data,s[9].data)}),[s]);return tn({},p,{isLoading:l,refetch:function(){s.forEach((function(n){u(n.refetch)}))}})}}}]);